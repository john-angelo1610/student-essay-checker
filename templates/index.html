<!DOCTYPE html>
<html>
<head>
    <title>SECGPMA</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css' ) }}"
          crossorigin="anonymous">
    <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js' ) }}"
            crossorigin="anonymous"></script>
    <!-- Optional theme -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/font-awesome.min.css') }}"
          crossorigin="anonymous">
    <script src="{{ url_for('static', filename='js/jquery.js' ) }}"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/form.css') }}">
    <script>
        $(document).ready(function(){
            $('#fi').change(function(){
                if ($('input[name="pattern"]').val() != '' ){
                    alert('Pattern file uploaded Successfully');
                }
            })

            $('#files').change(function(){
                if ($('input[name="file"]').val() != '' ){
                    alert('Text files uploaded Successfully');
                }
            })
        })
    </script>
</head>
<body class="background">
<div class="container mt-5 mb-5 d-flex justify-content-center">
    <div class="card px-1 py-4">
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        <ul class=flashes>
            {% for message in messages %}
            <p>{{ message }}</p>
            {% endfor %}
        </ul>
        {% endif %}
        {% endwith %}
        <form action="{{ url_for('check') }}" method="POST" enctype="multipart/form-data">
            <div class="card-body text-center">
                <h6 class="information mt-4" style="font-size: 25px">Student Essay Checker</h6>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group">
                            <p class="information pt-4">Select documents files</p>
                            <label for="files" class="btn"><!--img
                                    src="{{ url_for('static', filename='images/button.png') }}"--></label>
                            <input class="form-control" name="file" type="file" id="files"
                                   style="" multiple required>    <p id="fp"></p>

    <p>
        <input type="submit" value="Show Files or Update Details" 
            onclick="FileDetails()" >
    </p>
                        </div>
                    </div>
                </div>
				
	<script>
    function FileDetails() {

        // GET THE FILE INPUT.
        var fi = document.getElementById('files');

        // VALIDATE OR CHECK IF ANY FILE IS SELECTED.
        if (fi.files.length > 0) {

            // THE TOTAL FILE COUNT.
            document.getElementById('fp').innerHTML =
                'Total Files: <b>' + fi.files.length + '</b></br >';

            // RUN A LOOP TO CHECK EACH SELECTED FILE.
            for (var i = 0; i <= fi.files.length - 1; i++) {

                var fname = fi.files.item(i).name;      // THE NAME OF THE FILE.
                var fsize = fi.files.item(i).size;      // THE SIZE OF THE FILE.

                // SHOW THE EXTRACTED DETAILS OF THE FILE.
                document.getElementById('fp').innerHTML =
                    document.getElementById('fp').innerHTML + '<br /> ' +
                        fname + ' (<b>' + fsize + '</b> bytes)';
            }
        }
        else { 
            alert('Please select a file.') 
        }
    }
</script>											    


				
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group">
                            <p class="information pt-4">Select a pattern files</p>
                            <label for="fi" class="btn"><!--img
                                    src="{{ url_for('static', filename='images/button.png') }}"--></label>
                            <input class="form-control" name="pattern" type="file" id="fi"
                                   style="" required>
                        </div>
                    </div>
                </div>
                <div class=" d-flex flex-column text-center px-5 mt-3 mb-3"><small class="agree-text">Submit to check
                    plagiarism</small></div>
                <button class="btn btn-block btn-styles confirm-button">Confirm</button>
            </div>
        </form>
    </div>
</div>
</body>
</html>


